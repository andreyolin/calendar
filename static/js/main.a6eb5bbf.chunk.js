(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(9),o=n.n(r),i=(n(15),n(16),n(3)),s=n(6),d=n.n(s),l=n(1),u=n.n(l),j=n(8),b={get:function(){return JSON.parse(localStorage.getItem("events")||"[]")},post:function(e){var t=b.get();localStorage.setItem("events",JSON.stringify([].concat(Object(j.a)(t),[e])))},delete:function(e){var t=b.get().filter((function(t){return t.id!==e}));localStorage.setItem("events",JSON.stringify([t]))},patch:function(e){var t=b.get(),n=t.find((function(t){return e.id===t.id})),c=t.filter((function(e){return e.id!==(null===n||void 0===n?void 0:n.id)}));localStorage.setItem("events",JSON.stringify([].concat(Object(j.a)(c),[e])))}};var m=n(0),v=function(e){var t=e.day,n=e.currentMonth,c=e.onSetCurrentEvent,a=e.onSetFormIsShowing,r=t.numberOfDay,o=t.dayOfWeek,i=t.month,s=b.get().filter((function(e){return t.id===e.dayId}));return Object(m.jsxs)("div",{className:"cell__content",children:[Object(m.jsxs)("div",{className:d()("cell__description",{"cell__description--grey":Number(i)!==n}),children:[Object(m.jsx)("p",{children:r}),Object(m.jsx)("p",{children:o})]}),Object(m.jsx)("div",{children:s.map((function(e){return Object(m.jsx)("span",{onClick:function(){a(!0),c(e)},children:e.title},e.id)}))})]})},f=n(10),_=n.n(f),h=function(e){var t=e.onSetFormIsShowing,n=e.choosenDay,a=e.currentEvent,r=Object(c.useState)(""),o=Object(i.a)(r,2),s=o[0],d=o[1],l=Object(c.useState)(""),j=Object(i.a)(l,2),v=j[0],f=j[1],h=Object(c.useState)(null===n||void 0===n?void 0:n.date),O=Object(i.a)(h,2),p=O[0],x=O[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),g=N[0],S=N[1];return Object(c.useEffect)((function(){a&&(d(a.title),a.description&&f(a.description),a.time&&S(a.time),x(a.date))}),[n]),Object(m.jsxs)("form",{className:"eventForm",children:[Object(m.jsxs)("div",{className:"eventForm__title",children:[Object(m.jsx)("h2",{className:"eventForm__text",children:"Add new event"}),Object(m.jsx)("button",{className:"eventForm__title__button",type:"button",onClick:function(){return t(!1)},children:"X"})]}),Object(m.jsx)("h3",{children:"Title*"}),a&&Object(m.jsx)("p",{children:"Created at ".concat(null===a||void 0===a?void 0:a.createdAt)}),Object(m.jsx)("input",{className:"eventForm__titleInput",required:!0,type:"text",placeholder:"Title goes here",value:s,onChange:function(e){return d(e.target.value)}}),Object(m.jsx)("input",{type:"text",className:"eventForm__descriptionInput",placeholder:"description",value:v,onChange:function(e){return f(e.target.value)}}),Object(m.jsxs)("div",{className:"eventForm__dateInputs",children:[Object(m.jsx)("input",{type:"date",required:!0,value:p,onChange:function(e){return x(e.target.value)}}),Object(m.jsx)("input",{type:"time",value:g,onChange:function(e){return S(e.target.value)}})]}),Object(m.jsx)("button",{type:"submit",disabled:!s||!p,onClick:function(){var e,c,r={createdAt:u()().format("HH:mm d MMMM YYYY"),id:_()(),dayId:null===n||void 0===n?void 0:n.id,title:s,description:v,date:p,time:g};a?(e={id:null===a||void 0===a?void 0:a.id,title:s,date:p,time:g,dayId:null===n||void 0===n?void 0:n.id,description:v},b.patch(e)):(c=r,b.post(c)),t(!1)},children:"Save"}),a&&Object(m.jsx)("button",{type:"submit",onClick:function(){return e=null===a||void 0===a?void 0:a.id,b.delete(e);var e},children:"Delete"})]})},O=function(){var e=Object(c.useState)(Number(u()().format("YYYY"))),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(Number(u()().format("M"))),o=Object(i.a)(r,2),s=o[0],l=o[1],j=Object(c.useState)(null),b=Object(i.a)(j,2),f=b[0],_=b[1],O=Object(c.useState)(!1),p=Object(i.a)(O,2),x=p[0],y=p[1],N=Object(c.useState)(),g=Object(i.a)(N,2),S=g[0],Y=g[1],C=u()("".concat(n,"-").concat(s,"-01")).format("D");u.a.updateLocale("en",{week:{dow:1}});var M=u()("".concat(n,"-").concat(s,"-").concat(C)).startOf("month").startOf("week"),k=function(e){for(var t=[],n=1,c=e.clone();n<=42;)t.push(c.clone()),c.add(1,"day"),n+=1;return t.map((function(e){return{id:u()(e).format("D")+u()(e).format("M")+u()(e).format("YYYY"),date:"".concat(u()(e).format("YYYY"),"-").concat(u()(e).format("MM"),"-").concat(u()(e).format("DD")),numberOfDay:u()(e).format("D"),dayOfWeek:u()(e).format("dd"),month:u()(e).format("M"),year:u()(e).format("YYYY")}}))}(u()(M));return Object(m.jsxs)("div",{className:"calendar",children:[Object(m.jsxs)("div",{className:"calendar__header",children:[Object(m.jsxs)("div",{className:"calendar__header__form",children:[Object(m.jsx)("button",{className:"calendar__header__form__button",type:"button",disabled:!f,onClick:function(){Y(void 0),y(!x)},children:"+"}),!f&&Object(m.jsx)("p",{children:"Please Choose a day to add event"})]}),Object(m.jsxs)("div",{className:"calendar__header__nav",children:[Object(m.jsxs)("div",{className:"calendar__header__nav__chooser",children:[Object(m.jsx)("button",{className:"calendar__header__nav__chooser__button",type:"button",onClick:function(){1===s?(l(12),a((function(e){return e-1}))):l((function(e){return e-1}))},children:"<"}),Object(m.jsx)("p",{children:"".concat(u()("".concat(n,"-").concat(s,"-1")).format("MMMM")," ").concat(n)}),Object(m.jsx)("button",{className:"calendar__header__nav__chooser__button",type:"button",onClick:function(){12===s?(l(1),a((function(e){return e+1}))):l((function(e){return e+1}))},children:">"})]}),Object(m.jsx)("input",{className:"calendar__header__nav__date",type:"date",value:"",onChange:function(e){var t=e.target.value.split("-"),n=t.map((function(e){return Number(e)})).reverse().join(""),c=k.find((function(e){return e.id===n}))||null;a(Number(t[0])),l(Number(t[1])),_(c)}})]})]}),Object(m.jsxs)("div",{className:"calendar__body",children:[x&&Object(m.jsx)(h,{currentEvent:S,choosenDay:f,onSetFormIsShowing:y}),k.map((function(e){return Object(m.jsx)("button",{type:"button",className:d()("cell",{cell__isCurrent:(t=e,u()().format("YYYY M D")==="".concat(t.year," ").concat(t.month," ").concat(t.numberOfDay))},{cell__isActive:(null===f||void 0===f?void 0:f.id)===e.id},{cell__isNotCurrentMonth:Number(e.month)!==s}),onClick:function(){_(e),x&&y(!1)},children:Object(m.jsx)(v,{onSetFormIsShowing:y,onSetCurrentEvent:Y,day:e,currentMonth:s})},e.id);var t}))]})]})},p=function(){return Object(m.jsx)(O,{})};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a6eb5bbf.chunk.js.map